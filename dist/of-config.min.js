var OfConfigService=function(){function t(t,e,n,i,o){this.$http=t,this.$log=e,this.$translate=n,this.settingsEndpoint=i,this.language=o,this.settings={},this.loadSettings(),this.loadLanguage()}return t.prototype.loadSettings=function(){var t=this;if(this.$log.debug("of.config - cargando configuración"),!this.settingsEndpoint)return this.$log.info("of.config - no se especifica endpoint para configuración"),null;var e=this.$http.get(this.settingsEndpoint);return e.then(function(e){return t.$log.debug("of.config - configuración cargada",e.data),t.settings=angular.extend(t.settings,e.data),e.data}),e},t.prototype.loadLanguage=function(){this.$log.debug("of.config - cargando lenguage"),this.language?(this.setLanguage(this.getLanguage()),this.$log.debug("of.config - lenguaje cargado",this.language)):this.$log.info("of.config - no se especifica configuración para lenguaje")},t.prototype.getLanguage=function(){return this.language.storage.getItem(this.language.storageKey)||this.language.lang},t.prototype.setLanguage=function(t){this.language.lang=t,this.language.storage.setItem(this.language.storageKey,t),this.$translate.use(t)},t}(),OfConfigServiceProvider=function(){function t(t){var e=this;this.$translateProvider=t,this.$get=["$http","$log","$translate",function(t,n,i){return new OfConfigService(t,n,i,e.settingsEndpoint,e.languageSettings)}]}return t.prototype.configureSettings=function(t){console.debug("of.config - configurando settings",t),this.settingsEndpoint=t},t.prototype.configureLanguage=function(t){console.debug("of.config - configurando lenguaje",t),this.languageSettings=t,this.$translateProvider.useStaticFilesLoader({prefix:t.localizationPrefix,suffix:t.localizationSuffix}),this.$translateProvider.useSanitizeValueStrategy("escape"),t.lang||(t.lang=(navigator.language||navigator.userLanguage).split("-")[0]),this.$translateProvider.preferredLanguage(t.lang)},t}();OfConfigServiceProvider.$inject=["$translateProvider"];var LanguageSettings=function(){function t(){this.localizationPrefix="localization/",this.localizationSuffix=".json",this.storageKey="language",this.lang=void 0}return t}(),OfHttpService=function(){function t(t,e,n){this.$http=t,this.$httpParamSerializer=e,this.$log=n}return t.prototype.findAll=function(){return this.$http.get(this.baseUri+this.resourcePath)},t.prototype.create=function(t){return this.$http.post(this.baseUri+this.resourcePath,t)},t.prototype.findOne=function(t){return this.$http.get(this.baseUri+this.resourcePath+t)},t.prototype.update=function(t,e){return this.$http.put(this.baseUri+this.resourcePath+t,e)},t.prototype.toObject=function(t){var e={};return t.forEach(function(t){e[t.id.toLowerCase()]=t.value}),e},t}();OfHttpService.$inject=["$http","$httpParamSerializer","$log","Settings"];var OfLocalStorageService=function(){function t(){}return t.prototype.setItem=function(t,e){null!=e?localStorage.setItem(t,JSON.stringify(e)):localStorage.removeItem(t)},t.prototype.getItem=function(t){var e=localStorage.getItem(t);return JSON.parse(e)},t.prototype.removeItem=function(t){localStorage.removeItem(t)},t}(),OfSessionStorageService=function(){function t(){}return t.prototype.setItem=function(t,e){null!=e?sessionStorage.setItem(t,JSON.stringify(e)):sessionStorage.removeItem(t)},t.prototype.getItem=function(t){var e=sessionStorage.getItem(t);return JSON.parse(e)},t.prototype.removeItem=function(t){sessionStorage.removeItem(t)},t}();!function(t){console.debug("of.config - inicializando módulo"),t.module("of.config",["pascalprecht.translate"]),t.module("of.config").service("OfHttpService",OfHttpService),t.module("of.config").service("OfStorageService",OfLocalStorageService),t.module("of.config").provider("OfConfigService",OfConfigServiceProvider)}(window.angular);